# zigQuant Web æ§åˆ¶å¹³å°æ¶æ„è®¾è®¡

> å°†å‘½ä»¤è¡Œäº¤æ˜“ç³»ç»Ÿè½¬å˜ä¸ºå…¨åŠŸèƒ½ Web æ§åˆ¶å¹³å°

**ç‰ˆæœ¬**: v2.0.0 è®¾è®¡
**çŠ¶æ€**: ğŸ“‹ è®¾è®¡é˜¶æ®µ
**åˆ›å»ºæ—¥æœŸ**: 2025-12-29

---

## ğŸ“‹ ç›®æ ‡

å°† zigQuant ä»å‘½ä»¤è¡Œå·¥å…·è½¬å˜ä¸ºå®Œæ•´çš„ Web æ§åˆ¶å¹³å°ï¼Œå®ç°ï¼š

1. **å®æ—¶æ§åˆ¶**: é€šè¿‡ Web UI å¯åŠ¨/åœæ­¢/é…ç½®æ‰€æœ‰äº¤æ˜“ç­–ç•¥
2. **ç»Ÿä¸€ç®¡ç†**: ç½‘æ ¼äº¤æ˜“ã€å›æµ‹ã€ä¼˜åŒ–ã€Paper Trading ç­‰æ‰€æœ‰åŠŸèƒ½é€šè¿‡ Web æ§åˆ¶
3. **å®æ—¶ç›‘æ§**: WebSocket æ¨é€å®æ—¶æ•°æ®ï¼Œæ›¿ä»£è½®è¯¢
4. **çŠ¶æ€æŒä¹…åŒ–**: ç­–ç•¥çŠ¶æ€æŒä¹…åŒ–ï¼Œæ”¯æŒæœåŠ¡é‡å¯æ¢å¤

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Web Control Platform                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                         Frontend (Bun + React)                       â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚Dashboard â”‚ â”‚ Trading  â”‚ â”‚ Backtest â”‚ â”‚ Strategy â”‚ â”‚ Settings â”‚  â”‚   â”‚
â”‚   â”‚  â”‚ Overview â”‚ â”‚ Control  â”‚ â”‚  Center  â”‚ â”‚  Editor  â”‚ â”‚  & Logs  â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â”‚       â”‚            â”‚            â”‚            â”‚            â”‚         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚              WebSocket Client (Real-time Updates)             â”‚  â”‚   â”‚
â”‚   â”‚  â”‚              HTTP Client (REST API Calls)                     â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚                                          â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                  â”‚ HTTP / WebSocket                         â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                  â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    API Gateway (Zig HTTP Server)                     â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚   â”‚  â”‚ REST Router â”‚  â”‚  WebSocket  â”‚  â”‚    Auth     â”‚  â”‚   CORS     â”‚ â”‚   â”‚
â”‚   â”‚  â”‚  (v2 API)   â”‚  â”‚   Server    â”‚  â”‚ Middleware  â”‚  â”‚ Middleware â”‚ â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚   â”‚         â”‚                â”‚                                          â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚                    Command Dispatcher                         â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Strategy Commands (start/stop/update)                      â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Backtest Commands (run/cancel/export)                      â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Trading Commands (order/cancel/modify)                     â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - System Commands (kill-switch/restart)                      â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    Engine Manager (æ ¸å¿ƒè°ƒåº¦)                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚                    Strategy Registry                         â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  - Running Strategies Map                                    â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  - Strategy State Persistence                                â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  - Lifecycle Management                                      â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                                     â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚   â”‚  â”‚ Grid Engine  â”‚  â”‚  Backtest    â”‚  â”‚  Paper       â”‚             â”‚   â”‚
â”‚   â”‚  â”‚   Manager    â”‚  â”‚   Runner     â”‚  â”‚  Trading     â”‚             â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚   â”‚         â”‚                 â”‚                 â”‚                      â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚                    Event Bus (MessageBus)                    â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Strategy Events (started/stopped/error)                   â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Trade Events (order/fill/cancel)                          â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - Market Data Events (price/orderbook)                      â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  - System Events (alert/risk/status)                         â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    Infrastructure Layer                             â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚   â”‚  â”‚  Exchange    â”‚  â”‚   SQLite     â”‚  â”‚    Risk      â”‚              â”‚   â”‚
â”‚   â”‚  â”‚  Connectors  â”‚  â”‚   Storage    â”‚  â”‚   Engine     â”‚              â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
zigQuant/
â”œâ”€â”€ src/                          # Zig åç«¯
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ v2/                   # V2 API (æ–°å¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.zig
â”‚   â”‚   â”‚   â”œâ”€â”€ server.zig        # å¢å¼ºç‰ˆæœåŠ¡å™¨ (HTTP + WebSocket)
â”‚   â”‚   â”‚   â”œâ”€â”€ websocket.zig     # WebSocket æœåŠ¡ç«¯å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ grid.zig      # ç½‘æ ¼äº¤æ˜“æ§åˆ¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ backtest.zig  # å›æµ‹æ§åˆ¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy.zig  # ç­–ç•¥æ§åˆ¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ system.zig    # ç³»ç»Ÿæ§åˆ¶
â”‚   â”‚   â”‚   â””â”€â”€ commands/
â”‚   â”‚   â”‚       â”œâ”€â”€ dispatcher.zig
â”‚   â”‚   â”‚       â””â”€â”€ types.zig
â”‚   â”‚   â””â”€â”€ ... (existing v1 API)
â”‚   â”‚
â”‚   â”œâ”€â”€ engine/                   # å¼•æ“ç®¡ç† (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ mod.zig
â”‚   â”‚   â”œâ”€â”€ manager.zig           # ç»Ÿä¸€å¼•æ“ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ registry.zig          # ç­–ç•¥æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ state.zig             # çŠ¶æ€æŒä¹…åŒ–
â”‚   â”‚   â””â”€â”€ runners/
â”‚   â”‚       â”œâ”€â”€ grid_runner.zig   # ç½‘æ ¼äº¤æ˜“è¿è¡Œå™¨
â”‚   â”‚       â”œâ”€â”€ backtest_runner.zig
â”‚   â”‚       â””â”€â”€ paper_runner.zig
â”‚   â”‚
â”‚   â””â”€â”€ ... (existing modules)
â”‚
â”œâ”€â”€ web/                          # æ–°å‰ç«¯ (Bun + React)
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ bun.lockb
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.tsx
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”œâ”€â”€ api/                  # API å®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ client.ts         # HTTP + WebSocket å®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ types.ts          # API ç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ hooks/            # React Query hooks
â”‚       â”‚       â”œâ”€â”€ useGrid.ts
â”‚       â”‚       â”œâ”€â”€ useBacktest.ts
â”‚       â”‚       â””â”€â”€ useStrategy.ts
â”‚       â”œâ”€â”€ stores/               # Zustand stores
â”‚       â”‚   â”œâ”€â”€ gridStore.ts
â”‚       â”‚   â”œâ”€â”€ backtestStore.ts
â”‚       â”‚   â””â”€â”€ systemStore.ts
â”‚       â”œâ”€â”€ components/           # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ common/
â”‚       â”‚   â”œâ”€â”€ grid/
â”‚       â”‚   â”‚   â”œâ”€â”€ GridControl.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ GridConfig.tsx
â”‚       â”‚   â”‚   â””â”€â”€ GridStatus.tsx
â”‚       â”‚   â”œâ”€â”€ backtest/
â”‚       â”‚   â””â”€â”€ strategy/
â”‚       â”œâ”€â”€ pages/
â”‚       â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚       â”‚   â”œâ”€â”€ GridTrading.tsx
â”‚       â”‚   â”œâ”€â”€ Backtest.tsx
â”‚       â”‚   â”œâ”€â”€ Strategies.tsx
â”‚       â”‚   â””â”€â”€ Settings.tsx
â”‚       â””â”€â”€ styles/
â”‚
â”œâ”€â”€ dashboard/                    # æ—§å‰ç«¯ (ä¿ç•™å…¼å®¹)
â”‚
â””â”€â”€ docs/
    â””â”€â”€ architecture/
        â””â”€â”€ web-control-platform/
            â”œâ”€â”€ README.md         # æœ¬æ–‡æ¡£
            â”œâ”€â”€ api-v2.md         # V2 API è®¾è®¡
            â”œâ”€â”€ websocket.md      # WebSocket åè®®
            â”œâ”€â”€ frontend.md       # å‰ç«¯æ¶æ„
            â””â”€â”€ migration.md      # è¿ç§»æŒ‡å—
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [API V2 è®¾è®¡](./api-v2.md) - REST + WebSocket API è¯¦ç»†è®¾è®¡
- [WebSocket åè®®](./websocket.md) - å®æ—¶é€šä¿¡åè®®è§„èŒƒ
- [å‰ç«¯æ¶æ„](./frontend.md) - Bun + React å‰ç«¯è¯¦ç»†è®¾è®¡
- [è¿ç§»æŒ‡å—](./migration.md) - ä» CLI åˆ° Web æ§åˆ¶çš„è¿ç§»æ­¥éª¤

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç½‘æ ¼äº¤æ˜“æ§åˆ¶

| åŠŸèƒ½ | API | WebSocket äº‹ä»¶ |
|------|-----|----------------|
| å¯åŠ¨ç½‘æ ¼ | `POST /api/v2/grid/start` | `grid.started` |
| åœæ­¢ç½‘æ ¼ | `POST /api/v2/grid/:id/stop` | `grid.stopped` |
| æ›´æ–°å‚æ•° | `PUT /api/v2/grid/:id/params` | `grid.updated` |
| è·å–çŠ¶æ€ | `GET /api/v2/grid/:id/status` | `grid.status` (æ¨é€) |
| è·å–è®¢å• | `GET /api/v2/grid/:id/orders` | `grid.order.*` |
| åˆ—å‡ºæ‰€æœ‰ | `GET /api/v2/grid` | - |

### 2. å›æµ‹æ§åˆ¶

| åŠŸèƒ½ | API | WebSocket äº‹ä»¶ |
|------|-----|----------------|
| å¯åŠ¨å›æµ‹ | `POST /api/v2/backtest/run` | `backtest.started` |
| å–æ¶ˆå›æµ‹ | `POST /api/v2/backtest/:id/cancel` | `backtest.cancelled` |
| è·å–è¿›åº¦ | `GET /api/v2/backtest/:id/progress` | `backtest.progress` (æ¨é€) |
| è·å–ç»“æœ | `GET /api/v2/backtest/:id/result` | `backtest.completed` |
| å¯¼å‡ºç»“æœ | `GET /api/v2/backtest/:id/export` | - |

### 3. ç­–ç•¥ç®¡ç†

| åŠŸèƒ½ | API | WebSocket äº‹ä»¶ |
|------|-----|----------------|
| å¯åŠ¨ç­–ç•¥ | `POST /api/v2/strategy/:id/start` | `strategy.started` |
| åœæ­¢ç­–ç•¥ | `POST /api/v2/strategy/:id/stop` | `strategy.stopped` |
| çƒ­æ›´æ–°å‚æ•° | `PUT /api/v2/strategy/:id/params` | `strategy.updated` |
| è·å–çŠ¶æ€ | `GET /api/v2/strategy/:id/status` | `strategy.status` (æ¨é€) |

### 4. ç³»ç»Ÿæ§åˆ¶

| åŠŸèƒ½ | API | WebSocket äº‹ä»¶ |
|------|-----|----------------|
| Kill Switch | `POST /api/v2/system/kill-switch` | `system.kill_switch` |
| é‡å¯æœåŠ¡ | `POST /api/v2/system/restart` | `system.restarting` |
| å¥åº·æ£€æŸ¥ | `GET /api/v2/system/health` | `system.health` (æ¨é€) |
| è·å–æ—¥å¿— | `GET /api/v2/system/logs` | `system.log` (æ¨é€) |

---

## ğŸ”„ çŠ¶æ€æµè½¬

### ç½‘æ ¼äº¤æ˜“çŠ¶æ€æœº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    start()    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    priceè§¦å‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IDLE   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ RUNNING â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ TRADING â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                         â”‚                          â”‚
     â”‚                         â”‚ stop()                   â”‚
     â”‚                         â–¼                          â”‚
     â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ STOPPED â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         error/stop
                               â”‚
                               â”‚ error
                               â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  ERROR  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å›æµ‹çŠ¶æ€æœº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   run()   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  progress  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ RUNNING â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ COMPLETED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ cancel()
                           â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ CANCELLED â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å®ç°è®¡åˆ’

### Phase 1: åç«¯åŸºç¡€ (1-2å‘¨)

1. **WebSocket æœåŠ¡ç«¯**
   - å®ç° WebSocket å‡çº§å¤„ç†
   - è¿æ¥ç®¡ç†å’Œè®¤è¯
   - æ¶ˆæ¯è·¯ç”±

2. **Engine Manager**
   - ç­–ç•¥æ³¨å†Œè¡¨
   - ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - çŠ¶æ€æŒä¹…åŒ– (SQLite)

3. **ç½‘æ ¼äº¤æ˜“é›†æˆ**
   - GridRunner åŒ…è£… GridBot
   - äº‹ä»¶å‘å¸ƒåˆ° MessageBus
   - WebSocket çŠ¶æ€æ¨é€

### Phase 2: å‰ç«¯å¼€å‘ (2-3å‘¨)

1. **é¡¹ç›®åˆå§‹åŒ–**
   - Bun + Vite + React é…ç½®
   - UI æ¡†æ¶é€‰æ‹© (æ¨è shadcn/ui)
   - WebSocket å®¢æˆ·ç«¯å°è£…

2. **æ ¸å¿ƒé¡µé¢**
   - Dashboard æ€»è§ˆ
   - Grid Trading æ§åˆ¶é¢æ¿
   - Backtest ä¸­å¿ƒ
   - ç­–ç•¥ç®¡ç†

3. **å®æ—¶æ›´æ–°**
   - WebSocket è®¢é˜…ç®¡ç†
   - çŠ¶æ€åŒæ­¥
   - ä¹è§‚æ›´æ–°

### Phase 3: åŠŸèƒ½å®Œå–„ (1-2å‘¨)

1. **å›æµ‹é›†æˆ**
2. **Paper Trading é›†æˆ**
3. **ç­–ç•¥çƒ­æ›´æ–°**
4. **æ—¥å¿—å’Œç›‘æ§**

---

## ğŸ“Š æŠ€æœ¯é€‰å‹

### åç«¯ (Zig)

| ç»„ä»¶ | é€‰æ‹© | ç†ç”± |
|------|------|------|
| HTTP | std.http.Server | å·²æœ‰å®ç°ï¼Œç¨³å®š |
| WebSocket | è‡ªå®ç°/websocket.zig | è½»é‡ï¼Œå¯æ§ |
| çŠ¶æ€æŒä¹…åŒ– | SQLite | å·²æœ‰ DataStore |
| æ¶ˆæ¯é˜Ÿåˆ— | MessageBus | å·²æœ‰å®ç° |

### å‰ç«¯ (Bun)

| ç»„ä»¶ | é€‰æ‹© | ç†ç”± |
|------|------|------|
| è¿è¡Œæ—¶ | Bun | å¿«é€Ÿï¼Œç°ä»£ |
| æ¡†æ¶ | React 18 | ç”Ÿæ€ä¸°å¯Œ |
| æ„å»º | Vite | å¿«é€Ÿ HMR |
| çŠ¶æ€ | Zustand | ç®€å•ï¼ŒTypeScript å‹å¥½ |
| UI | shadcn/ui + Tailwind | å¯å®šåˆ¶ï¼Œç¾è§‚ |
| å›¾è¡¨ | Recharts / TradingView | é‡‘èå›¾è¡¨ |
| HTTP | axios | æˆç†Ÿç¨³å®š |
| WebSocket | åŸç”Ÿ + reconnecting-websocket | ç®€å•å¯é  |

---

## ğŸ’¡ å…³é”®è®¾è®¡å†³ç­–

### 1. ä¸ºä»€ä¹ˆæ–°å»ºå‰ç«¯è€Œä¸æ˜¯ä¿®æ”¹ç°æœ‰ Dashboardï¼Ÿ

- ç°æœ‰ Dashboard ä½¿ç”¨ Vue 3 + Element Plus
- ç”¨æˆ·è¦æ±‚ä½¿ç”¨ Bun ä½œä¸ºåŒ…ç®¡ç†å™¨
- æ–°æ¶æ„éœ€è¦æ›´æ·±åº¦çš„ WebSocket é›†æˆ
- ä¿ç•™ç°æœ‰ Dashboard ä½œä¸ºå…¼å®¹é€‰é¡¹

### 2. ä¸ºä»€ä¹ˆä½¿ç”¨ WebSocket è€Œä¸æ˜¯ Server-Sent Eventsï¼Ÿ

- éœ€è¦åŒå‘é€šä¿¡ (å‰ç«¯å‘é€æ§åˆ¶å‘½ä»¤)
- WebSocket åè®®æ›´æˆç†Ÿ
- å·²æœ‰ Hyperliquid WebSocket å®ç°å¯å‚è€ƒ

### 3. ä¸ºä»€ä¹ˆä½¿ç”¨ Engine Manager æ¨¡å¼ï¼Ÿ

- ç»Ÿä¸€ç®¡ç†æ‰€æœ‰è¿è¡Œä¸­çš„ç­–ç•¥/å›æµ‹
- æ”¯æŒçŠ¶æ€æŒä¹…åŒ–å’Œæ¢å¤
- ä¾¿äºå®ç° Kill Switch ç­‰å…¨å±€æ§åˆ¶
- è§£è€¦ API å±‚å’Œæ‰§è¡Œå±‚

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### ç”¨æˆ·ä½“éªŒæå‡

| åŠŸèƒ½ | ä¹‹å‰ (CLI) | ä¹‹å (Web) |
|------|-----------|-----------|
| å¯åŠ¨ç½‘æ ¼ | å‘½ä»¤è¡Œå‚æ•° | è¡¨å•å¡«å†™ + ä¸€é”®å¯åŠ¨ |
| ç›‘æ§çŠ¶æ€ | ç»ˆç«¯è¾“å‡º | å®æ—¶å›¾è¡¨ + ä»ªè¡¨ç›˜ |
| ä¿®æ”¹å‚æ•° | åœæ­¢ â†’ ä¿®æ”¹ â†’ é‡å¯ | åœ¨çº¿çƒ­æ›´æ–° |
| æŸ¥çœ‹å†å² | æ—¥å¿—æ–‡ä»¶ | å¯è§†åŒ–å›æº¯ |
| å¤šç­–ç•¥ç®¡ç† | å¤šç»ˆç«¯çª—å£ | ç»Ÿä¸€é¢æ¿ |

### æ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| WebSocket å»¶è¿Ÿ | < 50ms |
| çŠ¶æ€æ›´æ–°é¢‘ç‡ | 1-5 Hz |
| å‰ç«¯é¦–å±åŠ è½½ | < 2s |
| API å“åº”æ—¶é—´ | < 100ms |

---

*åˆ›å»ºæ—¶é—´: 2025-12-29*
*æœ€åæ›´æ–°: 2025-12-29*
