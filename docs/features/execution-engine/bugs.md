# ExecutionEngine - Bug 追踪

**版本**: v0.5.0
**状态**: 计划中
**最后更新**: 2025-12-27

---

## 当前 Bug

暂无已知 Bug（功能尚未实现）。

---

## Bug 模板

### Bug 报告格式

```markdown
## Bug #XXX: [标题]

**严重程度**: Critical / High / Medium / Low
**状态**: Open / In Progress / Resolved / Won't Fix
**发现版本**: v0.5.0
**修复版本**: -

### 描述
[详细描述问题]

### 复现步骤
1. ...
2. ...
3. ...

### 期望行为
[描述期望的正确行为]

### 实际行为
[描述实际观察到的行为]

### 相关代码
\`\`\`zig
// 相关代码片段
\`\`\`

### 修复方案
[如果已知，描述修复方案]

### 相关文件
- src/execution/engine.zig
```

---

## 已解决的 Bug

暂无（功能尚未实现）。

---

## 潜在风险

### 1. 订单丢失 (Critical)

**风险**: API 调用失败且 WebSocket 未收到确认

**缓解措施**:
- 订单前置追踪设计
- 定期与交易所同步
- 超时后主动查询状态
- 完整的日志记录

### 2. 重复订单

**风险**: 重试逻辑导致重复提交

**缓解措施**:
- 使用 client_order_id 幂等性
- 提交前检查是否已存在
- 交易所去重机制

### 3. 状态不一致

**风险**: 本地状态与交易所状态不同步

**缓解措施**:
- WebSocket 实时更新
- 定期状态同步
- 状态冲突检测和修复

### 4. 恢复失败

**风险**: 系统重启后无法正确恢复订单

**缓解措施**:
- 完整的订单持久化
- 恢复流程测试覆盖
- 恢复失败告警

### 5. 取消竞态

**风险**: 取消请求和成交通知同时到达

**缓解措施**:
- 以交易所状态为准
- 处理已成交订单的取消请求
- 状态机严格转换

---

## 相关文档

- [功能概览](./README.md)
- [测试文档](./testing.md)
- [更新日志](./changelog.md)

---

**版本**: v0.5.0
**状态**: 计划中
