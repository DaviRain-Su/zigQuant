# StopLoss - Bug 追踪

> 已知问题和修复记录

**最后更新**: 2025-12-27

---

## 当前状态

StopLoss 模块处于规划阶段，尚未开始实现。

---

## 已知 Bug

*目前没有已知 Bug*

---

## 潜在风险

### 风险 #1: 价格跳空

**状态**: 待评估
**严重性**: Medium

**描述**:
如果价格跳过止损价直接到更差的价格，执行价可能比预期差很多。

**示例**:
- 止损设置在 $49,000
- 价格从 $50,000 直接跳到 $48,000
- 实际成交价可能是 $48,000

**缓解措施**:
- 使用限价止损单限制最差成交价
- 考虑 slippage 容忍度

---

### 风险 #2: 执行延迟

**状态**: 待评估
**严重性**: Medium

**描述**:
从检测到触发到实际执行之间存在延迟。

**缓解措施**:
- 优化检查逻辑
- 考虑使用交易所原生止损订单

---

### 风险 #3: 并发竞态

**状态**: 待评估
**严重性**: High

**描述**:
多个线程同时修改同一仓位的止损配置可能导致数据不一致。

**缓解措施**:
```zig
self.mutex.lock();
defer self.mutex.unlock();
```

---

## 已修复的 Bug

*模块尚未实现，暂无已修复的 Bug*

---

## 报告 Bug

请包含以下信息：
1. 标题
2. 严重性
3. 复现步骤
4. 预期/实际行为
5. 环境信息
