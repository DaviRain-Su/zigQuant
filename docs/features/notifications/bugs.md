# 通知系统 - Bug 追踪

> 已知问题和修复状态

**最后更新**: 2025-12-28

---

## 已知问题

### 开放问题

暂无已知问题 (功能尚未实现)

---

## 已修复问题

暂无修复记录

---

## 问题模板

### 问题报告格式

```markdown
### [BUG-XXX] 问题标题

**严重程度**: 严重 | 一般 | 轻微
**状态**: 开放 | 进行中 | 已修复
**发现日期**: YYYY-MM-DD
**修复日期**: YYYY-MM-DD (如已修复)

**描述**:
[问题描述]

**复现步骤**:
1. 步骤 1
2. 步骤 2
3. ...

**预期行为**:
[预期结果]

**实际行为**:
[实际结果]

**环境**:
- OS: Linux/macOS/Windows
- Zig 版本: 0.15.x
- zigQuant 版本: v1.0.0
- 通知渠道: Telegram/Email/Webhook

**解决方案**:
[修复方案，如已修复]
```

---

## 已知限制

### 当前版本限制

1. **仅支持 HTTPS**
   - Webhook 仅支持 HTTPS 端点
   - 不支持自签名证书

2. **无持久化队列**
   - 重启后未发送的通知丢失
   - 计划在 v1.1.0 添加持久化

3. **单一模板**
   - 消息格式固定
   - 不支持自定义模板

4. **无批量发送**
   - 每个 Alert 独立发送
   - 高频告警可能触发 API 限制

5. **同步重试**
   - 重试会阻塞后续发送
   - 计划改为异步重试

---

## 第三方 API 限制

### Telegram Bot API

| 限制 | 值 | 影响 |
|------|-----|------|
| 群组消息 | 20/min | 高频告警可能被限制 |
| 私聊消息 | 30/sec | 一般不会触发 |
| 消息长度 | 4096 字符 | 长消息需截断 |

### SendGrid

| 限制 | 值 | 影响 |
|------|-----|------|
| 免费套餐 | 100/天 | 仅用于测试 |
| API 调用 | 需查看套餐 | 根据套餐不同 |

### Mailgun

| 限制 | 值 | 影响 |
|------|-----|------|
| 免费套餐 | 100/天 | 仅用于测试 |
| 沙盒模式 | 仅验证收件人 | 需升级付费 |

---

## 性能问题

### 待优化项

1. **HTTP 连接复用**
   - 当前每次请求新建连接
   - 影响: 延迟增加
   - 计划: 连接池

2. **JSON 序列化**
   - 每次发送都序列化
   - 影响: CPU 开销
   - 计划: 模板预编译

3. **队列无上限**
   - 极端情况可能 OOM
   - 计划: 添加队列大小限制

---

## 安全问题

### 待解决项

1. **敏感信息日志**
   - API Key 可能出现在错误日志
   - 需要日志脱敏

2. **配置明文存储**
   - API Key 在配置文件明文
   - 建议使用环境变量

---

## 反馈渠道

- GitHub Issues: https://github.com/DaviRain-Su/zigQuant/issues
- 讨论区: https://github.com/DaviRain-Su/zigQuant/discussions

---

*Last updated: 2025-12-28*
