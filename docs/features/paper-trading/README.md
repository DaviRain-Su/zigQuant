# Paper Trading - æ¨¡æ‹Ÿäº¤æ˜“

> ä½¿ç”¨çœŸå®å¸‚åœºæ•°æ®çš„æ— é£é™©ç­–ç•¥éªŒè¯ç¯å¢ƒ

**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹
**ç‰ˆæœ¬**: v0.6.0
**Story**: [Story 031](../../stories/v0.6.0/STORY_031_PAPER_TRADING.md)
**æœ€åæ›´æ–°**: 2025-12-27

---

## æ¦‚è¿°

Paper Trading (æ¨¡æ‹Ÿäº¤æ˜“) æ˜¯ zigQuant v0.6.0 çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæä¾›ä¸€ä¸ªä½¿ç”¨çœŸå®å¸‚åœºæ•°æ®ä½†ä¸å®é™…æ‰§è¡Œè®¢å•çš„æµ‹è¯•ç¯å¢ƒã€‚è¿™ä½¿å¾—ç­–ç•¥å¼€å‘è€…å¯ä»¥åœ¨æ— é£é™©çš„æƒ…å†µä¸‹éªŒè¯ç­–ç•¥é€»è¾‘ï¼Œå¹¶è·å¾—ä¸å®ç›˜æ¥è¿‘çš„æ€§èƒ½è¯„ä¼°ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **çœŸå®æ•°æ®**: ä½¿ç”¨ Hyperliquid å®æ—¶å¸‚åœºæ•°æ®
- **æ¨¡æ‹Ÿæ‰§è¡Œ**: è®¢å•ä¸å‘é€åˆ°äº¤æ˜“æ‰€ï¼Œæœ¬åœ°æ¨¡æ‹Ÿæˆäº¤
- **æ»‘ç‚¹æ¨¡æ‹Ÿ**: æ¨¡æ‹ŸçœŸå®äº¤æ˜“ä¸­çš„æ»‘ç‚¹å½±å“
- **æ‰‹ç»­è´¹è®¡ç®—**: å‡†ç¡®è®¡ç®—äº¤æ˜“æˆæœ¬
- **å®æ—¶ç»Ÿè®¡**: PnLã€èƒœç‡ã€å›æ’¤ç­‰æŒ‡æ ‡å®æ—¶æ›´æ–°

---

## å¿«é€Ÿå¼€å§‹

### ä»£ç ä½¿ç”¨

```zig
const PaperTradingEngine = @import("zigQuant").PaperTradingEngine;

pub fn main() !void {
    var gpa = std.heap.GeneralPurposeAllocator(.{}){};
    defer _ = gpa.deinit();
    const allocator = gpa.allocator();

    // åˆ›å»º Paper Trading å¼•æ“
    var engine = try PaperTradingEngine.init(allocator, .{
        .initial_balance = Decimal.fromInt(10000),
        .commission_rate = Decimal.fromFloat(0.0005),  // 0.05%
        .slippage = Decimal.fromFloat(0.0001),         // 0.01%
        .symbols = &[_][]const u8{ "BTC", "ETH" },
    });
    defer engine.deinit();

    // è®¾ç½®ç­–ç•¥
    const strategy = DualMAStrategy.init(.{ .fast = 10, .slow = 30 });
    engine.setStrategy(strategy.asStrategy());

    // å¯åŠ¨
    try engine.start();

    // è¿è¡Œ 1 å°æ—¶
    std.time.sleep(3600 * std.time.ns_per_s);

    // åœæ­¢å¹¶æŸ¥çœ‹ç»“æœ
    engine.stop();
}
```

### CLI ä½¿ç”¨

```bash
# åŸºæœ¬ä½¿ç”¨
zigquant run-strategy --strategy dual_ma --paper

# æŒ‡å®šåˆå§‹èµ„é‡‘
zigquant run-strategy --strategy dual_ma --paper --balance 50000

# æŒ‡å®šäº¤æ˜“å¯¹
zigquant run-strategy --strategy dual_ma --paper --symbol BTC --symbol ETH

# è¯¦ç»†æ—¥å¿—
zigquant run-strategy --strategy dual_ma --paper --verbose
```

---

## ç›¸å…³æ–‡æ¡£

- [API å‚è€ƒ](./api.md) - å®Œæ•´çš„ API æ–‡æ¡£
- [å®ç°ç»†èŠ‚](./implementation.md) - æ¨¡æ‹Ÿæ‰§è¡Œé€»è¾‘
- [æµ‹è¯•æ–‡æ¡£](./testing.md) - æµ‹è¯•ç”¨ä¾‹
- [Bug è¿½è¸ª](./bugs.md) - å·²çŸ¥é—®é¢˜
- [å˜æ›´æ—¥å¿—](./changelog.md) - ç‰ˆæœ¬å†å²

---

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PaperTradingEngine                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           HyperliquidDataProvider                    â”‚   â”‚
â”‚  â”‚              (çœŸå®å¸‚åœºæ•°æ®)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Strategy                           â”‚   â”‚
â”‚  â”‚              (äº¤æ˜“ç­–ç•¥æ‰§è¡Œ)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              SimulatedExecutor                       â”‚   â”‚
â”‚  â”‚         (æ¨¡æ‹Ÿè®¢å•æ‰§è¡Œ - ä¸è¿æ¥äº¤æ˜“æ‰€)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              SimulatedAccount                        â”‚   â”‚
â”‚  â”‚        (æ¨¡æ‹Ÿè´¦æˆ·ä½™é¢ã€ä»“ä½ã€PnL)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é…ç½®é€‰é¡¹

```zig
pub const Config = struct {
    /// åˆå§‹è´¦æˆ·ä½™é¢
    initial_balance: Decimal = Decimal.fromInt(10000),

    /// æ‰‹ç»­è´¹ç‡ (0.0005 = 0.05%)
    commission_rate: Decimal = Decimal.fromFloat(0.0005),

    /// æ»‘ç‚¹ (0.0001 = 0.01%)
    slippage: Decimal = Decimal.fromFloat(0.0001),

    /// è®¢é˜…çš„äº¤æ˜“å¯¹
    symbols: []const []const u8,

    /// tick é—´éš” (æ¯«ç§’)
    tick_interval_ms: u32 = 1000,

    /// æ˜¯å¦è®°å½•äº¤æ˜“æ—¥å¿—
    log_trades: bool = true,
};
```

---

## è¾“å‡ºç¤ºä¾‹

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              Paper Trading Summary
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Initial Balance:  10000.00 USDT
  Final Balance:    10523.45 USDT
  Total PnL:        523.45 USDT (5.23%)
  Total Trades:     47
  Win Rate:         61.7%
  Max Drawdown:     3.21%
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ä¸å›æµ‹çš„åŒºåˆ«

| ç‰¹æ€§ | Paper Trading | å›æµ‹ |
|------|---------------|------|
| æ•°æ®æº | å®æ—¶å¸‚åœºæ•°æ® | å†å²æ•°æ® |
| æ‰§è¡Œæ–¹å¼ | å®æ—¶æ¨¡æ‹Ÿ | æ‰¹é‡å¤„ç† |
| æ»‘ç‚¹æ¨¡æ‹Ÿ | åŸºäºå®æ—¶è®¢å•ç°¿ | å›ºå®šæˆ–éšæœº |
| æ—¶é—´å°ºåº¦ | å®æ—¶ | å¿«é€Ÿå›æ”¾ |
| ç”¨é€” | æœ€ç»ˆéªŒè¯ | åˆæ­¥æµ‹è¯• |

---

## æœ€ä½³å®è·µ

### DO

```zig
// ä½¿ç”¨åˆç†çš„åˆå§‹èµ„é‡‘
.initial_balance = Decimal.fromFloat(10000),

// è®¾ç½®åˆç†çš„æ‰‹ç»­è´¹å’Œæ»‘ç‚¹
.commission_rate = Decimal.fromFloat(0.0005),
.slippage = Decimal.fromFloat(0.0001),

// è¿è¡Œè¶³å¤Ÿé•¿çš„æ—¶é—´ä»¥è·å¾—ç»Ÿè®¡æ˜¾è‘—æ€§
std.time.sleep(86400 * std.time.ns_per_s);  // è‡³å°‘ 24 å°æ—¶
```

### DON'T

```zig
// é¿å…ä½¿ç”¨ä¸åˆ‡å®é™…çš„å‚æ•°
.initial_balance = Decimal.fromFloat(1000000000),  // 10äº¿å¤ªä¸ç°å®
.commission_rate = Decimal.zero(),  // å¿½ç•¥æ‰‹ç»­è´¹
.slippage = Decimal.zero(),         // å¿½ç•¥æ»‘ç‚¹

// é¿å…çŸ­æ—¶é—´æµ‹è¯•å¾—å‡ºç»“è®º
std.time.sleep(60 * std.time.ns_per_s);  // 1åˆ†é’Ÿå¤ªçŸ­
```

---

## æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| æ•°æ®å»¶è¿Ÿ | < 10ms | ä½¿ç”¨çœŸå®å¸‚åœºæ•°æ® |
| æ¨¡æ‹Ÿç²¾åº¦ | > 99% | è€ƒè™‘æ»‘ç‚¹å’Œæ‰‹ç»­è´¹ |
| å†…å­˜å ç”¨ | < 50MB | é•¿æ—¶é—´è¿è¡Œç¨³å®š |
| ç»Ÿè®¡å‡†ç¡®æ€§ | 100% | ä¸å›æµ‹ç»“æœå¯æ¯”è¾ƒ |

---

*Last updated: 2025-12-27*
